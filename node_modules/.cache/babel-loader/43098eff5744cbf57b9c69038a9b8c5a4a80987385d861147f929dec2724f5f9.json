{"ast":null,"code":"var _jsxFileName = \"C:\\\\projects\\\\crime-safety-dashboard\\\\src\\\\components\\\\TrendChart.js\";\nimport React from \"react\";\n\n// Lightweight SVG line chart for totals (12 points).\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function TrendChart({\n  rows = [],\n  height = 120\n}) {\n  var _rows$total, _rows;\n  if (!rows.length) return null;\n  const w = 520;\n  const h = height;\n  const pad = 18;\n  const values = rows.map(r => r.total || 0);\n  const max = Math.max(1, ...values);\n  const min = Math.min(0, ...values);\n  const x = i => pad + i * (w - pad * 2) / Math.max(1, rows.length - 1);\n  const y = v => {\n    const t = (v - min) / (max - min || 1);\n    return h - pad - t * (h - pad * 2);\n  };\n  const points = values.map((v, i) => `${x(i)},${y(v)}`).join(\" \");\n  const latest = (_rows$total = (_rows = rows[rows.length - 1]) === null || _rows === void 0 ? void 0 : _rows.total) !== null && _rows$total !== void 0 ? _rows$total : 0;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: \"100%\",\n      overflowX: \"auto\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        fontSize: 12,\n        opacity: 0.75,\n        marginBottom: 6\n      },\n      children: [\"Last 12 months (total). Latest: \", /*#__PURE__*/_jsxDEV(\"b\", {\n        children: latest\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 41\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n      width: w,\n      height: h,\n      role: \"img\",\n      \"aria-label\": \"Crime trend chart\",\n      children: [/*#__PURE__*/_jsxDEV(\"polyline\", {\n        fill: \"none\",\n        stroke: \"currentColor\",\n        strokeWidth: \"2.5\",\n        points: points\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this), values.map((v, i) => /*#__PURE__*/_jsxDEV(\"circle\", {\n        cx: x(i),\n        cy: y(v),\n        r: \"3\",\n        fill: \"currentColor\"\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 5\n  }, this);\n}\n_c = TrendChart;\nvar _c;\n$RefreshReg$(_c, \"TrendChart\");","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","TrendChart","rows","height","_rows$total","_rows","length","w","h","pad","values","map","r","total","max","Math","min","x","i","y","v","t","points","join","latest","style","width","overflowX","children","fontSize","opacity","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","role","fill","stroke","strokeWidth","cx","cy","_c","$RefreshReg$"],"sources":["C:/projects/crime-safety-dashboard/src/components/TrendChart.js"],"sourcesContent":["import React from \"react\";\n\n// Lightweight SVG line chart for totals (12 points).\nexport default function TrendChart({ rows = [], height = 120 }) {\n  if (!rows.length) return null;\n\n  const w = 520;\n  const h = height;\n  const pad = 18;\n\n  const values = rows.map((r) => r.total || 0);\n  const max = Math.max(1, ...values);\n  const min = Math.min(0, ...values);\n\n  const x = (i) => pad + (i * (w - pad * 2)) / Math.max(1, rows.length - 1);\n  const y = (v) => {\n    const t = (v - min) / (max - min || 1);\n    return h - pad - t * (h - pad * 2);\n  };\n\n  const points = values.map((v, i) => `${x(i)},${y(v)}`).join(\" \");\n  const latest = rows[rows.length - 1]?.total ?? 0;\n\n  return (\n    <div style={{ width: \"100%\", overflowX: \"auto\" }}>\n      <div style={{ fontSize: 12, opacity: 0.75, marginBottom: 6 }}>\n        Last 12 months (total). Latest: <b>{latest}</b>\n      </div>\n      <svg width={w} height={h} role=\"img\" aria-label=\"Crime trend chart\">\n        <polyline fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.5\" points={points} />\n        {values.map((v, i) => (\n          <circle key={i} cx={x(i)} cy={y(v)} r=\"3\" fill=\"currentColor\" />\n        ))}\n      </svg>\n    </div>\n  );\n}\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,eAAe,SAASC,UAAUA,CAAC;EAAEC,IAAI,GAAG,EAAE;EAAEC,MAAM,GAAG;AAAI,CAAC,EAAE;EAAA,IAAAC,WAAA,EAAAC,KAAA;EAC9D,IAAI,CAACH,IAAI,CAACI,MAAM,EAAE,OAAO,IAAI;EAE7B,MAAMC,CAAC,GAAG,GAAG;EACb,MAAMC,CAAC,GAAGL,MAAM;EAChB,MAAMM,GAAG,GAAG,EAAE;EAEd,MAAMC,MAAM,GAAGR,IAAI,CAACS,GAAG,CAAEC,CAAC,IAAKA,CAAC,CAACC,KAAK,IAAI,CAAC,CAAC;EAC5C,MAAMC,GAAG,GAAGC,IAAI,CAACD,GAAG,CAAC,CAAC,EAAE,GAAGJ,MAAM,CAAC;EAClC,MAAMM,GAAG,GAAGD,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE,GAAGN,MAAM,CAAC;EAElC,MAAMO,CAAC,GAAIC,CAAC,IAAKT,GAAG,GAAIS,CAAC,IAAIX,CAAC,GAAGE,GAAG,GAAG,CAAC,CAAC,GAAIM,IAAI,CAACD,GAAG,CAAC,CAAC,EAAEZ,IAAI,CAACI,MAAM,GAAG,CAAC,CAAC;EACzE,MAAMa,CAAC,GAAIC,CAAC,IAAK;IACf,MAAMC,CAAC,GAAG,CAACD,CAAC,GAAGJ,GAAG,KAAKF,GAAG,GAAGE,GAAG,IAAI,CAAC,CAAC;IACtC,OAAOR,CAAC,GAAGC,GAAG,GAAGY,CAAC,IAAIb,CAAC,GAAGC,GAAG,GAAG,CAAC,CAAC;EACpC,CAAC;EAED,MAAMa,MAAM,GAAGZ,MAAM,CAACC,GAAG,CAAC,CAACS,CAAC,EAAEF,CAAC,KAAK,GAAGD,CAAC,CAACC,CAAC,CAAC,IAAIC,CAAC,CAACC,CAAC,CAAC,EAAE,CAAC,CAACG,IAAI,CAAC,GAAG,CAAC;EAChE,MAAMC,MAAM,IAAApB,WAAA,IAAAC,KAAA,GAAGH,IAAI,CAACA,IAAI,CAACI,MAAM,GAAG,CAAC,CAAC,cAAAD,KAAA,uBAArBA,KAAA,CAAuBQ,KAAK,cAAAT,WAAA,cAAAA,WAAA,GAAI,CAAC;EAEhD,oBACEJ,OAAA;IAAKyB,KAAK,EAAE;MAAEC,KAAK,EAAE,MAAM;MAAEC,SAAS,EAAE;IAAO,CAAE;IAAAC,QAAA,gBAC/C5B,OAAA;MAAKyB,KAAK,EAAE;QAAEI,QAAQ,EAAE,EAAE;QAAEC,OAAO,EAAE,IAAI;QAAEC,YAAY,EAAE;MAAE,CAAE;MAAAH,QAAA,GAAC,kCAC5B,eAAA5B,OAAA;QAAA4B,QAAA,EAAIJ;MAAM;QAAAQ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC5C,CAAC,eACNnC,OAAA;MAAK0B,KAAK,EAAEnB,CAAE;MAACJ,MAAM,EAAEK,CAAE;MAAC4B,IAAI,EAAC,KAAK;MAAC,cAAW,mBAAmB;MAAAR,QAAA,gBACjE5B,OAAA;QAAUqC,IAAI,EAAC,MAAM;QAACC,MAAM,EAAC,cAAc;QAACC,WAAW,EAAC,KAAK;QAACjB,MAAM,EAAEA;MAAO;QAAAU,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,EAC/EzB,MAAM,CAACC,GAAG,CAAC,CAACS,CAAC,EAAEF,CAAC,kBACflB,OAAA;QAAgBwC,EAAE,EAAEvB,CAAC,CAACC,CAAC,CAAE;QAACuB,EAAE,EAAEtB,CAAC,CAACC,CAAC,CAAE;QAACR,CAAC,EAAC,GAAG;QAACyB,IAAI,EAAC;MAAc,GAAhDnB,CAAC;QAAAc,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAiD,CAChE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACO,EAAA,GAjCuBzC,UAAU;AAAA,IAAAyC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}